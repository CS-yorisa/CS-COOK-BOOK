[TOC]

# Web Server VS WAS

## Web Server 란?

### Web?

- 인터넷을 기반으로 한 정보를 공유, 검색할 수 있게 하는 서비스
- URL(주소) , HTTP(통신규칙), HTML(내용)

###  Server?

- 클라이언트에게 네트워크를 통해 정보나 서비스를 제공하는 컴퓨터 시스템

###  Web Server?

> 사전적 정의 " 웹 브라우저 클라이언트로부터 HTTP 요청을 받아들이고 HTML 문서와 같은 엡 페이지를 반환하는 컴퓨터 프로그램"

- 클라이언트(사용자)가 웹 브라우저에서 어떠한 페이지 요청을 하면 웹 서버에서 그 요청을 받아 **정적 컨텐츠를 제공하는 서버**이다. 
- 정적 컨텐츠란 단순 HTML 문서, CSS, javascript, 이미지, 파일 등 즉시 응답가능한 컨텐츠이다.

![image-20220226195040199](https://user-images.githubusercontent.com/87461672/155840975-cf40427d-b6b1-4f56-8f38-c2031f6b8f6f.png)

- html은 프로그래밍 언어가 아니다. 웹사이트의 구조나 의미를 주기 위한 내용을 주기 위해 사용되는 마크업 언어이다.



## WAS ( Web Application Server)

> 사전적 정의 "인터넷 상에서 HTTP 프로토콜을 통해 사용자 컴퓨터나 장치에 애플리케이션을 수행해주는 미들웨어로서, 주로 동적 서버 컨텐츠를 수행하는 것으로 웹 서버와 구별이 되며, 주로 데이터베이스 서버와 같이 수행"

- WAS는 웹 서버와 웹 컨테이너가 합쳐진 형태로서, 웹 서버 단독으로는 처리할 수 없는 **데이터베이스의 조회나 다양한 로직 처리가 필요한 동적 컨텐츠를 제공**한다.

- JSP, Servlet 구동환경을 제공해주기 때문에 웹 컨테이너 혹은 서블릿 컨테이너라고도 불린다.

> 웹 컨테이너 : 웹 서버가 보낸 JSP, PHP 등의 파일을 수행한 결과를 다시 웹 서버로 보내주는 역할을 함.
>
> Servlet : 프로그램을 수행해서 웹 페이지를 동적으로 생성하는 서버측 프로그램 (Java Program)

![image-20220226182626126](https://user-images.githubusercontent.com/87461672/155840991-f361a240-09e4-4eb6-b355-2a0910d4ae79.png)



## Web server와 WAS를 구분하는 이유

|                          Web Server                          |                             WAS                              |
| :----------------------------------------------------------: | :----------------------------------------------------------: |
| ![image-20220226200851263](https://user-images.githubusercontent.com/87461672/155840958-20357fbe-088f-46c6-850e-cc56f9ea4c28.png) | ![image](https://user-images.githubusercontent.com/87461672/155840927-8d4bd2b8-e412-4e72-b4d8-0cc7ecc6e372.png) |

- 기능을 분리하여 서버 부하 방지
  - WAS는 DB 조회 등 페이지를 만들기 위한 다양한 로직을 처리하는 데, 단순히 정적 콘텐츠를 WAS에서 제공한다면 다른 작업에 사용하는 리소스들로 인해 지연이 생겨날 수 있다.

- 물리적으로 분리하여 보안 강화
  - SSL에 대한 암복호화 처리에 Web Server를 사용한다.
  - 공격에 대해 Web Server를 앞단에 두어 중요한 정보가 담긴 DB나 로직까지 (WAS까지) 전파되지 못하게 한다.
- 여러 대의 WAS를 연결 가능
  - Load Balancing을 위해서 Web Server를 사용
  - fail over(장애극복) , fail back 처리에 유리
    - fail over : 하나의 WAS가 작동을 중지하게 되면 다른 WAS로 돌림.
    - fail back : 작동이 중지됐을 때 다시 재작동시킴.
  - 대용량 웹 어플리케이션의 경우 (여러 개의 서버 사용) Web server와 WAS를 분리하여 무중단 운영을 위한 장애 극복에 쉽게 대응할 수 있다.
- 여러 웹 애플리케이션 서비스 가능
  - 하나의 서버에서 PHP Application과 Java Application을 함꼐 사용하는 경우 

- Web Server를 WAS 앞에 두고 필요한 WAS들을 Web Server에 플러그인 형태로 설정하면 더욱 효율적인 분산 처리가 가능하다.



> Django는 서버-사이드 웹 프레임워크, 서버를 제공하지 않음. runserver는 테스트용
>
> gunicorn 으로 WAS 서버를 띄우고, 웹 서버로는 Nginx