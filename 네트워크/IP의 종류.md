# IP(Internet Protocol)

- 인터넷에 연결되어 있는 모든 장치들을 식별할 수 있도록 각각의 장비에게 부여되는 고유 주소
- IP 주소는 전 세계에서 유일하게 할당되어야 하므로 전 세계 인터넷 주소를 관리하는 기관에서 통합 관리
- IP 주소는 IPv4, IPv6 2가지 종류가 있음



# IPv4

- IP 프로토콜은 현재 IPv4(Internet Protocol version 4)의 주소 체계 사용 중
- 128.0.0.92 와 같이 마침표로 구분된 4개의 숫자가 있는 점으로 분리 된 10진수 형식으로 표시
  - 2진법으로 표현 시 32비트 숫자가 됨
- 스마트폰의 등장 및 사물 인터넷 등으로 인해 IP 주소를 사용하는 기기가 폭발적으로 증가
- IPv4 주소 체계에서 사용할 수 있는 IP 주소는 약 43억개 이나 사용할 수 있는 IP 주소가 부족해지기 시작
- 이를 위해 IPv6 사용



# IPv6

- IP version 6로, IPv4의 주소체계를 128비트 크기로 확장한 차세대 인터넷 프로토콜 주소
- 16비트씩 8자리로 각 자리는 콜론으로 구분
- 2^{128} 개의 주소를 가지고 있으 무한대로 사용할 수 있으나, 기존의 주소 체계를 변경하는데 비용이 많이 들어서 상용화되지 않음



> **따라서, 필요한 곳에 필요한 때에 필요한 수만큼 고유한 IP 주소를 할당하기 시작**



# 공인 IP 주소와 사설 IP 주소

![img](https://blog.kakaocdn.net/dn/SiGuj/btqNWhgpOaP/A51A493SMrZbkNtnPGEeE0/img.png)

### **공인 IP 주소**(퍼블릭 IP 주소, 글로벌 IP 주소)

- **인터넷에서 사용하는 ip 주소** 를 말하며, 전 세계적으로 ICANN이라는 기관이 국가별로 사용할 IP 대역을 관리하고, 우리나라는 한국인터넷진흥원(KISA)에서 국내 IP 주소를 관리

- 이를 ISP(Internet Service Provider, KT, LG, SKT 와 같은 인터넷 제공 통신업체)가 부여받고, 이 회사에 가입을 통해 IP를 발급 받아 사용하게 되는 것

### 사설 주소(프라이빗 IP 주소)

- **인터넷과 독립적인 사설 네트워크에서 사용하는 IP 주소**를 말함
- 공유기를 사용한 인터넷 접속 환경일 꼉우 공유기까지는 공인 IP를 할당 하지만, 공유기에 연결되어 있는 가정이나 회사의 각 네트워크 기기에는 사설 IP를 할당함
- 보통 내 컴퓨터에서 사용하는 로컬 IP라고도 불림



![ip-사설-공인-nat](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F5pfMd%2FbtrwmaFukKl%2FzbfjBUvTwZpLEPPt2lKoqk%2Fimg.png)

> 공인 IP는 전 세계에서 유일하지만, 사설 IP는 하나의 네트워크 안에서 유일
>
> 공인 IP는 외부/내부 상관 없이 해당 IP에 접속할 수 있으나, 사설 IP는 내부에서만 접근이 가능
>
> 초기 사설 IP 주소는 인터넷과의 연결을 고려하지 않은 네트워크에서만 사용되었지만, 사설 IP 주소와 공인 IP 주소 간에 주소 변환을 하는 NAT 기술의 개발



# NAT (Network Adress Translation)

![img](https://blog.kakaocdn.net/dn/s3Mv5/btqNXGT3t3n/kFbfddbOLbzFZZDffm6Pa0/img.png)

- 주소가 고갈된 IPv4를 위한 기술로, 사설 IP 주소와 공인 IP 주소 간에 주소 변환을 해 사설 네트워크에서 인터넷으로 통신이 가능하게 함
- 주소 변환 기술이며, 라우터에 의해 구현
  - 집이나 사무실에서 사용하는 가정용 라우터인 인터넷 공유기에도 NAT 기술이 적용 되어 있음
  - 사설 네트워크에 속한 여러 개의 호스트가 라우터를 통해 하나의 공인 IP 주소를 이용하여 인터넷에 접속

- IP패킷의 TCP/UDP 포트 숫자와 소스 및 목적지의 IP 주소 등을 재기록하며 라우터를 통해 네트워크 트래픽을 주고 받는 기술을 말함

- NAT 라우터가 ip 헤더의 송신지 주소를 사설 ip 주소에서 공인 ip 주소로 변경한 패킷을 인터넷을 전송하고, 송신지 IP 주소를 변환할 때 라우터에는 변환 전후의 주소를 기록한 NAT 테이블이 만들어짐
- 집이나 학교, 기업 내에서는 사설 IP 주소를 설정하고 인터넷과 연결하는 NAT 라우터와 인터넷에 공개된 서버에만 공인 IP 주소를 설정하여 IP 주소 문제에 대응



### + 고정 IP와 유동 IP

- 고정 IP : 변하지 않고 컴퓨터에 고정적으로 부여된 IP. 한번 부여되면 반납전 까지 고유성을 띄며 보안이 필요한 업체나 기관에서 사용
- 유동 IP : 인터넷 사용자 모두에게 고정 IP를 부여해주기 힘드므로, 일정한 주기 또는 인터넷에 접속하는 순간마다 사용하고 있지 않은 IP 주소를 임시로 발급



### 출처

https://better-together.tistory.com/124

https://inpa.tistory.com/entry/WEB-%F0%9F%8C%90-NAT-%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80