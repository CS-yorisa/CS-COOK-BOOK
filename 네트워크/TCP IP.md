[TOC]

# TCP / IP

<br>

## 프로토콜

- 컴퓨터 간의 주고받는 메시지를 전송할 때 에러가 발생하지 않도록 **알맞은 크기로 나누어져 전송**하고 이를 받아서 **다시 원래의 정보로 변환하는 것을 약속**해 놓은 것

> 패킷(Packet) : 인터넷 내에서 데이터를 보내기 위한 경로 배정(라우팅)을 효율적으로 하기 위해 데이터를 여러 개로 나눈 조각

<br>

## TCP / IP 프로토콜

- 인터넷 프로토콜 중 가장 중요한 역할을 하는 **TCP와 IP의 합성어**로 인터넷 동작의 중심이 되는 통신규약
- 데이터의 흐름 관리, 데이터의 정확성 확인 (**TCP 역할**), 패킷을 목적지까지 전송 (**IP 역할**) 담당
- **IP** 주소 체계를 따르고 IP Routing을 이용해 목적지에 도달하며 **TCP**의 특성을 활용해 송신자와 수신자의 논리적 연결을 생성하고 신뢰성을 유지할 수 있도록 하겠다는 것을 의미

> TCP/IP는 개방형 프로토콜의 표준으로 특정 하드웨어나 OS에 독립적으로 사용하는 것이 가능

<br>

## TCP/IP 4 Layer

![img](https://t1.daumcdn.net/cfile/tistory/213F623C566BAE253B)

>  출처 : https://hahahoho5915.tistory.com/15

### 4계층 - Application Layer

- OSI 7 Layer 에서 **'세션 계층, 표현 계층, 응용 계층'** 에 해당 (**5, 6, 7 계층**)

- 응용프로그램들이 **네트워크서비스, 메일서비스, 웹서비스 등**을 할 수 있도록 **표준적인 인터페이스**를 제공

  > TCP/IP 기반의 **응용 프로그램을 구분**할 때 사용  
  > 프로토콜 : HTTP, FTP, Telnet, DNS, SMTP

### 3계층 - Transport Layer

- OSI 7 Layer 에서 **'전송 계층'** 에 해당 (**4 계층**)

- 네트워크 양단의 송수신 호스트 사이에서 신뢰성 있는 전송기능을 제공

- 시스템의 논리주소와 포트를 가지고 있어서 각 상위 계층의 프로세스를 연결해서 통신

- 정확한 패킷의 전송을 보장하는 **TCP** 와 정확한 전송을 보장하지 않는 **UDP** 프로토콜을 이용

- 데이터의 정확한 전송보다 빠른 속도의 전송이 필요한 멀티미디어 통신에서 UDP를 사용하면 TCP보다 유용

  > **통신 노드 간의 연결을 제어**하고, 자료의 송수신을 담당  
  > 프로토콜 : TCP, UDP

### 2계층 - Internet Layer

- OSI 7 Layer 에서 **'네트워크 계층'** 에 해당 (**3 계층**)

- 인터넷 계층의 주요 기능은 상위 트랜스포트 계층으로부터 받은 데이터에 IP패킷 헤더를 붙여 IP패킷을 만들고 이를 전송하는 것

  > 통신 노드 간의 **IP 패킷을 전송하는 기능 및 라우팅 기능**을 담당  
  > 프로토콜 : IP, ARP, RARP, ICMP, OSPF

### 1계층 - Network Access Layer

- OSI 7 Layer 에서 **'물리 계층, 데이터 링크 계층'** 에 해당 (**1, 2 계층**)

- OS의 네트워크 카드와 디바이스 드라이버 등과 같이 하드웨어적인 요소와 관련되는 모든 것을 지원하는 계층

- 송신측 컴퓨터의 경우 상위 계층으로부터 전달받은 패킷에 물리적인 주소는 MAC 주소 정보를 가지고 있는 헤더를 추가하여 프레임을 만들고, 프레임을 하위 계층인 물리 계층으로 전달

- 수신측 컴퓨터의 경우 데이터 링크 계층에서 추가된 헤더를 제거하여 상위 계층인 네트워크 계층으로 전달

  > CSMA/CD, MAC, LAN, X25, 패킷망, 위성 통신, 다이얼 모뎀 등 **전송에 사용**  
  > 프로토콜 : Ethernet(이더넷), Token Ring, PPP

![image-20211226174832452](TCP IP.assets/image-20211226174832452.png)

<br>

## TCP (Transmission Control Protocol)

- 두 호스트가 교환하는 데이터와 승인 메세지의 형식을 정의하여, 서버와 클라이언트 간의 데이터를 신뢰성있게 전달하기 위해 만들어진 규약 (연결형 서비스)
- TCP는 데이터 패킷에 일련의 번호를 부여함으로써, 데이터 손실을 찾아내서 교정하고 순서를 재조합하여 클라이언트에게 전달할 수 있게 해줌
- 양쪽 단말(endpoint)의 통신 준비, 데이터 전송/변질 여부, 수신된 데이터의 신뢰성 여부를 점검
- **3-way handshake** 라는 과정을 통해 연결을 설정하고 통신을 시작하며, **4-way handshake** 과정을 통해 연결을 해제(가상 회선 방식)함

> 신뢰성 보장과 **흐름 제어, 혼잡 제어**에 관여할 수 있는 요소들은 **TCP Header**에 담겨 있음  
> TCP 사용 예시 : 웹 HTTP 통신, 이메일, 파일 전송 등

![image-20211226181500923](TCP IP.assets/image-20211226181500923.png)

<br>

## IP (Internet Protocol)

- IP는 4바이트로 이루어진 컴퓨터의 주소이며, `192.168.9.255`와 같이 3개의 마침표로 나뉘어진 숫자로 표시
- 패킷을 분할/병합하는 기능을 수행하며, **Best Effort** 원칙에 따른 전송 기능을 제공 (비연결형 서비스)

- IP는 TCP와는 달리 데이터의 재조합이나 손실여부 확인이 불가능하며, 단지 데이터를 전달하는 역할만을 담당
- IP 프로토콜에서 제공하지 않는 전송 오류 문제는 상위 계층에서 고려해야 함

> IP 주소는 하드웨어 고유의 식별번호인 MAC 주소와 다르게 임시적으로 다른 주체(통신사)에게 받는 주소이므로, 바뀔 수 있음
