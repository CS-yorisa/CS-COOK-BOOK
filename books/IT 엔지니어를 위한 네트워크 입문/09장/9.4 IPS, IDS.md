# IPS, IDS
- 방화벽은 3, 4계층을 방어하는 대신, IDS/IPS는 3~7계층 공격을 탐지, 방어

## IPS, IDS 정의
- IDS(Instrusion Detection Systme, 침입 탐지 시스템) : 공격자가 시스템을 해킹할 때 탐지를 목적으로 개발된 시스템, 탐지에 초첨 맞추어 트래픽을 복제, 침입여부 판별
- IPS(Intrusion Prevention System, 침입 방지 시스템) : 직접 차단하는 능력을 갖ㅊ춤
	- NIPS(Network based IPS), HIPS(Host based IPS)로 구분됨
	- 클라우드에서 NIPS 배포가 어려워 HIPS가 늘어나지만, 클라우드 내부에서 NIPS도 많이 사용하는 추세

## IPS, IDS 동작 방식
### 패턴 매칭 방식
- 기존 공격이나 취약점을 기반으로 방어하는 패턴 방식, 시그니처 방식, 데이터베이스 방식 방법

### 어노말리 공격 방어
- 패턴 매칭 방식은 데이터가 충분히 있어야 가능하여, 빠르게 전파되는 인터넷상에서 적절한 타이밍에 막아내기 어려움
- 프로파일 어노말리, 프로토콜 어노말리로 구분

#### 프로파일 어노말리
- IPS장비가 모니터링해 정해진 기준과 다른 행위가 일어나면 공격으로 판단, 이후 DDoS방어 장비로 진화

#### 프로토콜 어노말리
- SPI방화벽, NAT기능이 대중화되며 일반 사용자 PC를 쉽게 공격할 수 없게 됨
	- 이메일, 웹 서버 등을 활용 악성 코드를 내려받도록 함
- 해당 포트에서 동작하는 프로토콜이 아닌 다른 프로토콜이 발생하는 경우 공격으로 의심 할 수 있음

## IPS, IDS 한계와 극복(NGIPS)
- IPS 근본적 문제 : 네트워크상에서 빠른 속도로 에플리케이션 레벨까지 확인하기 위해 플로(Flow)엔진 사용, IPS 장비를 비교적 쉽게 우회 가능
- NGIPS(Next Generation IPS) : APT 공격 방어 등 기능 추가
