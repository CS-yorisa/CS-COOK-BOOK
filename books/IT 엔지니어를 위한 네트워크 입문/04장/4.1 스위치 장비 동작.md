# 4.1 스위치 장비 동작
- 2계층의 핵심 장비인 스위치는 2계층 주소인 MAC주소를 기반으로 동작
	- 네트워크 중간에서 패킷을 받아 필요한 곳에만 보내주는 장비
	- 아무 설정 없이 네트워크에 연결해도 MAC주소 기반 패킨 전방 방식으로 작동 가능
- 스위치가 없다면 패킷을 전송할 때 서로 경합해 네트워크 성능 저하
	- 경쟁을 없애고, 여러 장비가 간섭 없이 통신하도록 도와주는 장치
- MAC주소 테이블
	- MAC주소와 단말이 위치하는 인터페이스 정보를 매핑한 테이블
	- 만약 MAC주소 테이블이 없다면 패킷을 전체 포트로 전송, MAC주소 테이블을 활용하여 특정 포트로만 전송함
	- 스위치 동작방식은 플러딩, 어드레스 러닝, 포워드/필터링으로 구분됨

#### ARP
- Address Resolution Protocol
- 네트워크에서 IP주소를 물리적 네트워크 주소로 대응시키기 위한 프로토콜

## 플러딩(Flooding)
- 스위치를 부팅하면 아무 정보가 없고, 네트워크를 중재하는 역할보다 허브와 같은 역할로 동작
	- 허브는 패킷이 들어온 포트를 제외한 모든 포트로 전달
	- 스위치가 허브처럼 작동하는 것을 플러딩이라 부름
- 스위치는 패킷이 들어오면 MAC주소 테이블 확인
	- 해당 MAC주소가 있는지 확인, 없다면 모든 포트에 전송
- 플러딩은 정상적인 스위치 작업이지만, 너무 많이 일어나면 스위치가 제 역할을 하지 못함
	- 패킷이 스위치에 들어오면 해당 패킷과 MAC주소를 학습해 MAC주소 테이블을 만들고 전달 
- BUT 실제로 스위치가 플러딩 하는 것은 제 기능을 하지 못한다는 의미
	- 이더넷-TCP/IP 네트워크에서 ARP 브로드캐스트를 미리 주고 받은 후, 실제 데이터를 보낼 때 플러딩하지 않음
	- 이 결과 허브에 비해 보안에 도움이 됨

## 어드레스 러닝(Address Learning)
- MAC주소 테이블을 만들고 유지하는 과정
	- 패킷의 출발지 MAC주소 정보를 이용

## 포워딩, 필터링(Forwarding/Filtering)
- 스위치는 패킷이 들어온 경우 도착지 MAC주로 해당하는 패킷으로 '포워딩', 다른 포트로 보내지 않도록 '필터링'
- 통신이 다른 포트에 영향을 미치지 않으므로 독립적으로 동작 가능
- 스위치는 일반적으로 유니캐스트에 대해서만 포워드, 필터링
	- BUM 트래틱(브로드캐스트, 언오운 유니캐스트, 멀티캐스트)는 다르게 동작
		- [3.1 유니캐스트, 멀티캐스트, 브로드캐스트, 애니캐스트](../03장/3.1%20유니캐스트,%20멀티캐스트,%20브로드캐스트,%20애니캐스트.md)
	- 브로드캐스트, 멀티캐스트는 모두 플러딩
	- 언노운 유니캐스팅은 MAC주소 테이블에 없는 주소이므로 플러딩 동작