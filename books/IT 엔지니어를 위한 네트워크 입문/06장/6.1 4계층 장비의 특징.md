[TOC]

# 6.1 4계층 장비의 특징

> 4계층 장비는 TCP와 같은 **4계층 헤더**에 있는 정보를 이해하고 이를 기반으로 동작

- **4계층 장비**를 2, 3계층 장비처럼 설계, 운용하면 여러 가지 문제가 발생

  > **세션 테이블**과 그 안에서 관리하는 **세션 정보**에 대한 이해가 중요

  - 4계층 이상에서 동작하는 로드 밸런서, 방화벽과 같은 장비를 **'세션 장비'**라고 부르기도 함

<br>

## 고려해야 할 특징

### 세션 테이블

- 세션 장비는 **세션 테이블** 기반으로 운영
- 세션 정보를 **저장, 확인**하는 작업 전반에 대한 이해가 필요
- 세션 정보는 세션 테이블에 남아 있는 **라이프타임**이 존재

### Symmetric(대칭) 경로 요구

- Inbound와 Outbound 경로가 **일치**해야 함

### 정보 변경 (로드 밸런서의 경우)

- IP 주소가 변경되며 확장된 **L7 로드 밸런서(ADC)**는 애플리케이션 <u>프로토콜 정보</u>도 변경됨

<br>

> 네트워크 통신 중간 위치에 **세션을 기반**으로 동작하는 **방화벽, NAT, 로드 밸런서**와 같은 장비가 있을 경우 네트워크 인프라뿐만 아니라 시스템 설계와 애플리케이션 개발에도 <u>세션 장비에 대한 고려</u>가 필요