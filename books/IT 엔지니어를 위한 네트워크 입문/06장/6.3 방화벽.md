[TOC]

# 6.3 방화벽

> 트래픽을 사전에 주어진 정책 조건에 맞추어 **허용(Permit)**하거나 **차단(Deny)**하는 장비

- 네트워크 **3, 4계층**에서 동작하고 세션을 인지, 관리하는 **SPI 엔진을 기반**으로 동작

  > **SPI(Stateful Packet Inspection) 엔진 :** 상태 기반 엔진

![image](https://user-images.githubusercontent.com/87461594/185780230-94db4c62-ddad-44fc-b12a-a7b18ee84501.png)

- 패킷이 외부로 나갈 때 **세션 정보**를 장비 내부에 저장 (**NAT 동작 방식**과 유사)
  - 패킷이 **외부에서 처음 시작된 것**인지, **내부 사용자가 외부로 요청한 응답**인지 가려냄

![image](https://user-images.githubusercontent.com/87461594/185780236-b6bb244c-0b5c-4efe-92f7-2962fd4382f5.png)

- **세션 테이블**을 이용해 패킷의 인과 관계를 파악할 수 있어 정책을 간단히 유지
- 메모리에 남는 이런 상태와 세션 정보를 이용해 패킷을 상세히 **로깅하고 관찰**할 수 있음