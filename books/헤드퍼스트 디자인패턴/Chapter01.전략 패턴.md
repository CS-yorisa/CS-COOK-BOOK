# ì „ëµ íŒ¨í„´

## ì˜¤ë¦¬ ì‹œë®¬ë ˆì´ì…˜ ê²Œì„ (SimUduck)

- ìŠˆí¼í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•˜ê³  ì´ë¥¼ í™•ì¥í•˜ì—¬ ë‹¤ì–‘í•œ ì˜¤ë¦¬ ìƒì„±

[![á„‹á…©á„…á…µ á„á…³á†¯á„…á…¢á„‰á…³1](https://user-images.githubusercontent.com/37922134/215445706-b521079e-b6b4-4ae8-8ad0-18dc5765a519.png)](https://user-images.githubusercontent.com/37922134/215445706-b521079e-b6b4-4ae8-8ad0-18dc5765a519.png)

- ëª¨ë“  ì˜¤ë¦¬ê°€ ê½¥(quack) ì†Œë¦¬ë¥¼ ë‚´ê³  ìˆ˜ì˜(swim)ì„ í•  ìˆ˜ ìˆìŒ

- ì˜¤ë¦¬ë§ˆë‹¤ ëª¨ì–‘ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— display() ëŠ” ì˜¤ë²„ë¼ì´ë“œ



### fly() ê¸°ëŠ¥ ì¶”ê°€

[![á„‹á…©á„…á…µ á„á…³á†¯á„…á…¢á„‰á…³2](https://user-images.githubusercontent.com/37922134/215445701-d32d30fc-56fe-4f75-858d-b47786930177.png)](https://user-images.githubusercontent.com/37922134/215445701-d32d30fc-56fe-4f75-858d-b47786930177.png)

- ë‚ ì§€ ë§ì•„ì•¼ í•˜ëŠ” RubberDuckì—ë„ fly() ê¸°ëŠ¥ì´ ì¶”ê°€ ë˜ì–´ ë²„ë¦¼

- RubberDuckì— fly()ë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ì—¬ ì²˜ë¦¬
  - ë‚ ì§€ ë§ì•„ì•¼í•  ì˜¤ë¦¬ê°€ ì¶”ê°€ë  ë•Œë§ˆë‹¤ ì¬ì •ì˜ í•´ì¤˜ì•¼ í•¨



### ğŸ¤” ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©?

- ê³„ì† ì˜¤ë²„ë¼ì´ë“œ í•´ì•¼í•˜ëŠ” ë©”ì„œë“œ `fly()` `quack()`ë§Œ ë¹¼ì„œ ì¸í„°í˜ì´ìŠ¤ ìƒì„±

![á„‹á…©á„…á…µ á„á…³á†¯á„…á…¢á„‰á…³3](https://user-images.githubusercontent.com/37922134/215445698-857912d3-4ce0-473c-bb2a-7499d056a1c8.png)

- ì¼ë¶€ ë¬¸ì œì ì€ í•´ê²°í•  ìˆ˜ ìˆì§€ë§Œ ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì½”ë“œ ê´€ë¦¬ì— ë¬¸ì œê°€ ìƒê¹€

- ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ì—ì„œ í•´ë‹¹ ì½”ë“œë¥¼ ì „ë¶€ êµ¬í˜„í•´ì¤˜ì•¼ í•¨



## ì „ëµ íŒ¨í„´ ì ìš©í•˜ê¸°

### âœ… ë””ìì¸ ì›ì¹™ 1

> - ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë‹¬ë¼ì§€ëŠ” ë¶€ë¶„ì„ ì°¾ì•„ë‚´ê³ , ë‹¬ë¼ì§€ì§€ ì•ŠëŠ” ë¶€ë¶„ê³¼ ë¶„ë¦¬í•œë‹¤.
>   - ë‹¬ë¼ì§€ëŠ” ë¶€ë¶„ì€ **ìº¡ìŠí™”**í•œë‹¤.
>   - ë‹¤ë¥¸ ì½”ë“œì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šê³  ê³ ì¹˜ê±°ë‚˜ í™•ì¥í•  ìˆ˜ ìˆì–´ì„œ ì‹œìŠ¤í…œì˜ ìœ ì—°ì„±ì´ í–¥ìƒëœë‹¤.



### ë°”ë€ŒëŠ” ë¶€ë¶„ê³¼ ê·¸ë ‡ì§€ ì•Šì€ ë¶€ë¶„ ë¶„ë¦¬í•˜ê¸°

- fly() ì™€ quack()ì€ Duck í´ë˜ìŠ¤ì˜ ì˜¤ë¦¬ ì¢…ë¥˜ì— ë”°ë¼ ë‹¬ë¼ì§

- 2ê°œì˜ ë©”ì†Œë“œ ëª¨ë‘ Duck í´ë˜ìŠ¤ì—ì„œ ë„ì§‘ì–´ ë‚´ì„œ **ê° í–‰ë™ì„ ë‚˜íƒ€ë‚¼ í´ë˜ìŠ¤ ì§‘í•©ì„ ìƒˆë¡œ ë§Œë“¤ì–´ì•¼ í•¨**



### âœ… ë””ìì¸ ì›ì¹™ 2

> - êµ¬í˜„ë³´ë‹¤ëŠ” ì¸í„°í˜ì´ìŠ¤ì— ë§ì¶°ì„œ í”„ë¡œê·¸ë˜ë° í•œë‹¤
>
> - ìƒìœ„ í˜•ì‹ì— ë§ì¶°ì„œ í”„ë¡œê·¸ë˜ë° í•˜ëŠ” ê²ƒ
>
> - ê°ì²´ë¥¼ ë³€ìˆ˜ì— ëŒ€ì…í•  ë•Œ ìƒìœ„ í˜•ì‹ì„ êµ¬ì²´ì ìœ¼ë¡œ êµ¬í˜„í•œ í˜•ì‹ì´ë¼ë©´ ì–´ë–¤ ê°ì²´ë“  ë„£ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸



### ì˜¤ë¦¬ì˜ í–‰ë™ êµ¬í˜„ í•˜ê¸°

- ê° í–‰ë™ì„ ì¸í„°í˜ì´ìŠ¤ë¡œ í‘œí˜„í•˜ê³ , ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•´ì„œ í–‰ë™ì„ êµ¬í˜„

  - íŠ¹ì • í–‰ë™ë§Œ ëª©ì ìœ¼ë¡œ í•˜ëŠ” í´ë˜ìŠ¤ì˜ ì§‘í•©ì„ ë§Œë“œëŠ” ê²ƒ

  - Duck í´ë˜ìŠ¤ì—ì„œ êµ¬ì²´ì ìœ¼ë¡œ êµ¬í˜„í•˜ê±°ë‚˜ ì„œë¸Œí´ë˜ìŠ¤ ìì²´ì—ì„œ ë³„ë„ë¡œ êµ¬í˜„í•˜ëŠ” ë°©ë²•ê³¼ëŠ” ìƒë°˜ë¨



![á„‹á…©á„…á…µ á„á…³á†¯á„…á…¢á„‰á…³4](https://user-images.githubusercontent.com/37922134/215445679-7140b5aa-f7e7-4b39-a7bb-0e7195fd17f8.png)

- ë‹¤ë¥¸ í˜•ì‹ì˜ ê°ì²´ì—ì„œë„ ë‚˜ëŠ” í–‰ë™ê³¼ ê½¥ê½¥ ê±°ë¦¬ëŠ” í–‰ë™ì„ ì¬ì‚¬ìš© í•  ìˆ˜ ìˆìŒ

- ê¸°ì¡´ í–‰ë™ í´ë˜ìŠ¤ë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ Duck í´ë˜ìŠ¤ë¥¼ ê±´ë“œë¦¬ì§€ ì•Šê³  ìƒˆë¡œìš´ í–‰ë™ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŒ



## ë¶„ë¦¬í•œ í–‰ë™ í†µí•©í•˜ê¸°

``` mermaid
classDiagram
	class Duck{
        Flybehavior flyBehavior
        QuackBehavior quackBehavior
        performQuack()
        swim()
        display()
        performFly()
       
    }
```

- ë‚˜ëŠ” í–‰ë™ê³¼ ê½¥ê½¥ ê±°ë¦¬ëŠ” í–‰ë™ì„ Duck í´ë˜ìŠ¤ì—ì„œ ì •ì˜í•œ ë©”ì†Œë“œë¥¼ ì¨ì„œ êµ¬í˜„í•˜ì§€ ì•Šê³  **ë‹¤ë¥¸ í´ë˜ìŠ¤ì— ìœ„ì„**



### performQuack()

``` java
public abstract class Duck{
  // ëª¨ë“  Duckì—ëŠ” QuackBehavior ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ ë ˆí¼ëŸ°ìŠ¤ê°€ ìˆìŒ
  QuackBehavior quackBehavior;
  
  // ê½¥ê½¥ ê±°ë¦¬ëŠ” í–‰ë™ì„ ì§ì ‘ ì²˜ë¦¬í•˜ëŠ” ëŒ€ì‹ , quackBehaviorë¡œ ì°¸ì¡°ë˜ëŠ” ê°ì²´ì— ê·¸ í–‰ë™ì„ ìœ„ì„
  public void performQuack() {
		quackBehavior.quack();
	}
}
```

- ê½¥ê½¥ ê±°ë¦¬ê³  ì‹¶ì„ ë• ê°ì²´ì˜ ì¢…ë¥˜ì— ì‹ ê²½ì“¸ í•„ìš” ì—†ì´ quack()ì„ ì‹¤í–‰í•˜ê¸°ë§Œ í•˜ë©´ ë¨



### MallardDuck()

- Duckì„ ìƒì†ë°›ì€ MallardDuck ì—ì„œ flyBehaviorê³¼ quackBehavior ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ì„¤ì • í•˜ê¸°

``` java
public class MallardDuck extends Duck {
  
  // Duck í´ë˜ìŠ¤ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ìƒì† ë°›ê³ , ìƒì„±ìì—ì„œ í•´ë‹¹ ë³€ìˆ˜ë¥¼ ì„¤ì •
  public MallardDuck(){
    quackBehavior = new Quack();
    flyBehavior = new FlyWithWings();
  }
  
  public void display(){
    System.out.println("ì €ëŠ” ë¬¼ì˜¤ë¦¬ì…ë‹ˆë‹¤.");
  }
  
}
```



> ğŸš¨ ë””ìì¸ ì›ì¹™ì— ë”°ë¥´ë©´ ì¸í„°í˜ì´ìŠ¤ì— ë§ì¶° ì‘ì„±í•˜ë¼ê³  í–ˆì§€ë§Œ, Quack()ì´ë¼ëŠ” êµ¬í˜„ë˜ì–´ ìˆëŠ” êµ¬ìƒ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¦ (ì°¨í›„ì— í•´ë‹¹ ë¬¸ì œë¥¼ í•´ê²°í•  íŒ¨í„´ì´ ë‚˜ì˜¨ë‹¤ê³  í•¨)



## ì½”ë“œ ì‚´í´ë³´ê¸°

- Duck í´ë˜ìŠ¤

``` java
public abstract class Duck {
  // í–‰ë™ ì¸í„°í˜ì´ìŠ¤ í˜•ì‹ì˜ ë ˆí¼ëŸ°ìŠ¤ ë³€ìˆ˜ 2ê°œ ì„ ì–¸
  // ê°™ì€ íŒ¨í‚¤ì§€ì— ì†í•˜ëŠ” ëª¨ë“  ì„œë¸Œ í´ë˜ìŠ¤ì—ì„œ ì´ ë³€ìˆ˜ë¥¼ ìƒì†ë°›ìŒ
	FlyBehavior flyBehavior;
	QuackBehavior quackBehavior;

	public Duck() {}

	abstract void display();

  
  // í–‰ë™ í´ë˜ìŠ¤ì— ìœ„ì„
	public void performFly() {
		flyBehavior.fly();
	}

	public void performQuack() {
		quackBehavior.quack();
	}

	public void swim() {
		System.out.println("ëª¨ë“  ì˜¤ë¦¬ëŠ” ë¬¼ì— ëœ¹ë‹ˆë‹¤. ê°€ì§œ ì˜¤ë¦¬ë„ ëœ¨ì£ .");
	}
}

```



- FlyBehavior ì¸í„°í˜ì´ìŠ¤ì™€ í–‰ë™ êµ¬í˜„ í´ë˜ìŠ¤

``` java
public interface FlyBehavior {
	public void fly();
}

public class FlyWithWings implements FlyBehavior {
	public void fly() {
		System.out.println("ë‚ ê³  ìˆì–´ìš”!!");
	}
}

public class FlyNoWay implements FlyBehavior {
	public void fly() {
		System.out.println("ì €ëŠ” ëª» ë‚ ì•„ìš”");
	}
}
```



- QuackBehavior ì¸í„°í˜ì´ìŠ¤ì™€ í–‰ë™ êµ¬í˜„ í´ë˜ìŠ¤

``` java
public interface QuackBehavior {
	public void quack();
}

public class Quack implements QuackBehavior {
	public void quack() {
		System.out.println("ê½¥");
	}
}

public class MuteQuack implements QuackBehavior {
	public void quack() {
		System.out.println("<< ì¡°ìš© >>");
	}
}

public class Squeak implements QuackBehavior {
	public void quack() {
		System.out.println("ì‚‘");
	}
}

```



- í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤

``` java
public class MiniDuckSimulator {
 
	public static void main(String[] args) {
 
		Duck mallard = new MallardDuck();
		mallard.performQuack();
		mallard.perforFly();
	}
}
```

> ê½¥
>
> ë‚ ê³  ìˆì–´ìš”!! 



## ë™ì ìœ¼ë¡œ í–‰ë™ ì§€ì •í•˜ê¸°

- Duck í´ë˜ìŠ¤ì— setter ë©”ì†Œë“œë¥¼ ì¶”ê°€í•˜ì—¬ ì‹¤í–‰ ì¤‘ì— ë³€ê²½ ê°€ëŠ¥

``` java
	public void setFlyBehavior(FlyBehavior fb) {
		flyBehavior = fb;
	}

	public void setQuackBehavior(QuackBehavior qb) {
		quackBehavior = qb;
	}

```



``` java
public class MiniDuckSimulator {
 
	public static void main(String[] args) {
 
		Duck mallard = new MallardDuck();
    mallard.perforFly();
    mallard.setFlyBehavior(new FlyNoWay);
		mallard.perforFly();
	}
}
```

> ë‚ ê³  ìˆì–´ìš”!!
>
> ì €ëŠ” ëª» ë‚ ì•„ìš”



## ë‘ í´ë˜ìŠ¤ë¥¼ í•©ì¹˜ëŠ” ë°©ë²•

"Aì—ëŠ” Bê°€ ìˆë‹¤"

- ê° ì˜¤ë¦¬ì—ëŠ” FlyBehaviorì™€ QuackBehaviorê°€ ìˆìœ¼ë©°, ê°ê° ë‚˜ëŠ” í–‰ë™ê³¼ ê½¥ê½¥ê±°ë¦¬ëŠ” í–‰ë™ì„ ìœ„ì„ë°›ìŒ
- ì´ëŸ° ì‹ìœ¼ë¡œ ë‘ í´ë˜ìŠ¤ë¥¼ í•©ì¹˜ëŠ” ê²ƒì„ **'êµ¬ì„±(composition) ì„ ì´ìš©í•œë‹¤'** ê³  í•¨
  - í–‰ë™ì„ ìƒì†ë°›ëŠ” ëŒ€ì‹ , ì˜¬ë°”ë¥¸ í–‰ë™ ê°ì²´ë¡œ êµ¬ì„±ë˜ì–´ í–‰ë™ì„ ë¶€ì—¬ë°›ìŒ (ìœ ì—°ì„± â¬†)



### âœ… ë””ìì¸ ì›ì¹™ 3

> ìƒì†ë³´ë‹¤ëŠ” êµ¬ì„±ì„ í™œìš©í•œë‹¤.



## ì „ëµ íŒ¨í„´(Strategy Pattern)

- ì•Œê³ ë¦¬ì¦˜êµ°ì„ ì •ì˜í•˜ê³  ìº¡ìŠí™”í•´ì„œ ê°ê°ì˜ ì•Œê³ ë¦¬ì¦˜êµ°ì„ ìˆ˜ì •í•´ì„œ ì“¸ ìˆ˜ ìˆê²Œ í•´ì¤Œ
- í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ì•Œê³ ë¦¬ì¦˜ì„ ë¶„ë¦¬í•´ì„œ ë…ë¦½ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆìŒ